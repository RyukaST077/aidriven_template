# 機能一覧・画面／帳票一覧（ユースケースでも可）テンプレート（ベストプラクティス）

> 目的：本ドキュメントは「**要求定義／要件定義**」と「**基本設計・画面設計・帳票設計**」の間をつなぐ **カタログ（台帳）** です。要件の漏れ・重複を防ぎ、以降の設計・テスト・移行・運用までの**トレーサビリティの起点**にします。

---

## 0. ドキュメント管理

### 0.1 基本情報

* システム名：
* プロジェクト名：
* 作成者：
* 作成日：
* 承認者：
* 版数：

### 0.2 改訂履歴

| 版   | 日付         | 改訂者 | 変更概要   | 関連チケット/議事録 |
| --- | ---------- | --- | ------ | ---------- |
| 0.1 | YYYY/MM/DD |     | 初版ドラフト |            |

### 0.3 参照ドキュメント（予定含む）

| 種別     | ドキュメント名           | 版/URL | 備考             |
| ------ | ----------------- | ----- | -------------- |
| 要求/要件  | 要求定義／要件定義書        |       | 機能/非機能/制約/受入条件 |
| 業務     | 業務フロー／業務ルール定義     |       | To-Be/例外/権限    |
| 設計     | 基本設計書             |       | 外部設計まとめ        |
| 設計     | 画面設計書             |       | 画面詳細           |
| 設計     | 帳票設計書             |       | 帳票詳細           |
| 設計     | データ設計書            |       | ER/項目/テーブル     |
| 設計     | 外部IF設計書           |       | API/連携         |
| 方式     | 方式設計              |       | 構成/ログ/権限方針     |
| 設計     | 詳細設計書             |       | 内部設計（必要範囲）     |
| テスト    | テスト計画書            |       | レベル/方針         |
| テスト    | テスト仕様書／テストケース     |       | 単体/結合/受入       |
| リリース   | リリース手順書           |       | 切戻し含む          |
| 運用     | 運用設計書／運用手順書       |       | Runbook        |
| 移行     | （該当時）移行設計書        |       | 切替/バックアウト      |
| 性能     | （該当時）性能・負荷試験計画／仕様 |       | 目標/検証          |
| セキュリティ | （該当時）セキュリティ設計書    |       | 対策/監査          |
| マニュアル  | （該当時）ユーザ／管理者マニュアル |       | 引継ぎ            |

---

## 1. 本ドキュメントの位置づけ（重要）

### 1.1 対象範囲

* 対象業務／サブシステム：
* 対象チャネル（Web/モバイル/バッチ/外部連携など）：
* 対象外（別PJ/別フェーズで扱うもの）：

### 1.2 粒度の基準（おすすめ）

* **機能（Feature）**：ユーザー価値または業務目的で区切る（例：受注登録、出荷指示、請求締め）。
* **画面**：UI単位（一覧/詳細/登録/検索/承認など）。
* **帳票**：出力物単位（PDF/CSV/印刷/BI）。
* **ユースケース（UC）**：

  * 機能が複雑/例外が多い／権限が絡む場合に推奨
  * 機能1行では足りない「主シナリオ＋例外」を最小限で補う

### 1.3 重複を避けるルール

* ここは **台帳**。詳細は各設計書へ。
* 「入力チェック・エラー文言・レイアウト」などは **画面設計書**に寄せ、ここでは“要点とリンク”に留める。
* 「出力レイアウト」は **帳票設計書**。
* 「IF仕様詳細」は **外部IF設計書**。
* 「非機能の設計値」は **基本設計/方式設計**。ここでは **タグ付け**（例：性能SLO対象、監査ログ対象）を推奨。

---

## 2. 命名・採番ルール（推奨）

### 2.1 ID体系（例）

* 機能ID：FNC-001、FNC-002…
* 画面ID：SCR-001…
* 帳票ID：RPT-001…
* ユースケースID：UC-001…
* 外部IF ID：IF-001…
* バッチID：BAT-001…

### 2.2 ステータス定義（例）

* Draft（草案）／Reviewed（レビュー済）／Approved（承認済）／Implemented（実装済）／Deprecated（廃止）

---

## 3. 機能一覧（Feature Catalog）

> **最重要セクション**：要件→機能→画面/帳票/IF/データ→テストの“背骨”になります。

### 3.1 機能一覧テーブル

| 機能ID    | 機能名  | 業務領域/モジュール | 概要（1〜3行）                  | 目的/KPI   | トリガー | 主なアクター | 対象ロール/権限   | 前提条件  | 完了条件（事後状態）      | 主要データ（エンティティ）         | 画面ID            | 帳票ID | IF/バッチID | 優先度（MoSCoW） | リスク/論点   | 非機能タグ（例）    | 受入条件/要件ID | ステータス | 備考 |
| ------- | ---- | ---------- | ------------------------- | -------- | ---- | ------ | ---------- | ----- | --------------- | --------------------- | --------------- | ---- | -------- | ----------- | -------- | ----------- | --------- | ----- | -- |
| FNC-001 | 受注登録 | 受注         | 受注を新規登録し、在庫引当・与信チェックへ連携する | 受注処理時間短縮 | 受注入力 | 営業     | ROLE_SALES | 顧客が有効 | 受注番号採番・ステータス=登録 | Order, Customer, Item | SCR-001,SCR-002 |      | IF-003   | Must        | 与信NG時の扱い | 監査ログ, 性能SLO | REQ-F-012 | Draft |    |

### 3.2 記入ガイド（最小・推奨）

* **概要**：画面説明にならないよう「業務目的＋アウトカム」を書く
* **主なアクター**：人（利用者/管理者）＋システム（外部連携先）も含める
* **権限**：業務ルール定義と整合（To-Be/例外）
* **主要データ**：データ設計のエンティティ名に合わせる（後でCRUD表に使う）
* **非機能タグ**：

  * 例）性能SLO対象、個人情報、監査ログ、可用性要件、外部連携再送、二重送信防止…
* **受入条件/要件ID**：要件定義書のIDと相互参照（リンクが望ましい）

---

## 4. 画面一覧（Screen Catalog）

> 画面の網羅と遷移の把握が目的。詳細（項目定義・チェック・エラー等）は画面設計書へ。

### 4.1 画面一覧テーブル

| 画面ID    | 画面名  | 種別（一覧/詳細/登録/検索/承認/設定など） | 業務領域/モジュール | 目的（1行）   | 主な利用ロール    | 入力/更新の有無 | 主な項目（要点のみ） | 参照/更新データ（エンティティ）      | 遷移元     | 遷移先     | 関連機能ID  | 外部IF/バッチ | 非機能/セキュリティ観点（例） | 画面設計書リンク | ステータス | 備考 |
| ------- | ---- | ----------------------- | ---------- | -------- | ---------- | -------- | ---------- | --------------------- | ------- | ------- | ------- | -------- | --------------- | -------- | ----- | -- |
| SCR-001 | 受注一覧 | 一覧                      | 受注         | 受注の検索・参照 | ROLE_SALES | なし       | 検索条件、一覧項目  | Order                 |         | SCR-002 | FNC-001 |          | 性能SLO, 個人情報     |          | Draft |    |
| SCR-002 | 受注登録 | 登録                      | 受注         | 受注の新規登録  | ROLE_SALES | あり       | 顧客、明細、納期   | Order, Customer, Item | SCR-001 |         | FNC-001 | IF-003   | 監査ログ, 二重送信防止    |          | Draft |    |

### 4.2 画面分類（任意・おすすめ）

* 共通：ログイン／権限エラー／マスタ参照ダイアログ
* 業務：受注／出荷／請求…
* 管理：ユーザー管理／設定／監査ログ閲覧

---

## 5. 帳票一覧（Report Catalog）

> 帳票の出力条件と配布/保管までを台帳化。詳細レイアウトは帳票設計書へ。

### 5.1 帳票一覧テーブル

| 帳票ID    | 帳票名     | 形式（PDF/CSV/Excel/印刷/BIなど） | 出力タイミング（手動/自動/バッチ） | トリガー/条件     | 主要フィルタ/ソート/グルーピング | 出力対象データ（エンティティ/テーブル） | 出力先（DL/メール/SFTP/プリンタ等） | 保管/保持期間 | アクセス権限     | 関連機能ID  | 画面ID    | 帳票設計書リンク | 非機能/運用観点（例） | ステータス | 備考 |
| ------- | ------- | ------------------------- | ------------------ | ----------- | ----------------- | -------------------- | ---------------------- | ------- | ---------- | ------- | ------- | -------- | ----------- | ----- | -- |
| RPT-001 | 受注一覧CSV | CSV                       | 手動                 | 検索結果をエクスポート | 検索条件に準拠           | Order                | DL                     | なし      | ROLE_SALES | FNC-001 | SCR-001 |          | 個人情報, DL監査  | Draft |    |

---

## 6. ユースケース一覧（任意：複雑機能向け）

> 例外・権限・外部連携・トランザクション境界が複雑な場合に採用。

### 6.1 ユースケース一覧テーブル（サマリ）

| UC ID  | UC名        | 主アクター | 目的          | 関連機能ID  | 関連画面ID          | 関連帳票ID | 関連IF/バッチ | 重要な業務ルール/例外 | 受入条件/要件ID | ステータス | 備考 |
| ------ | ---------- | ----- | ----------- | ------- | --------------- | ------ | -------- | ----------- | --------- | ----- | -- |
| UC-001 | 受注登録（与信あり） | 営業    | 与信を確認し受注を確定 | FNC-001 | SCR-001,SCR-002 |        | IF-003   | 与信NG時：保留/却下 | REQ-F-012 | Draft |    |

### 6.2 ユースケース詳細テンプレ（1UC=1〜2ページ目安）

#### UC-XXX：ユースケース名

* 目的：
* スコープ：
* アクター：主／副
* トリガー：
* 前提条件：
* 事後条件：成功時／失敗時
* 基本フロー（Main Success Scenario）：
  1.
  2.
* 代替フロー（Alternate）：

  * A1：
* 例外フロー（Exception）：

  * E1：
* 権限/承認：
* データ整合性・トランザクション境界：
* 外部IF/バッチ連携：
* 非機能・セキュリティ観点：
* 受入条件：
* 関連成果物リンク：画面設計／帳票設計／IF設計／詳細設計／テストケース

---

## 7. トレーサビリティ（マトリクス）

> **漏れ・影響分析**のために推奨。Excel/スプレッドシート運用が楽です。

### 7.1 要件 → 機能 対応表

| 要件ID | 要件名 | 機能ID | 備考 |
| ---- | --- | ---- | -- |

### 7.2 機能 → 画面/帳票/IF/バッチ 対応表

| 機能ID | 画面ID | 帳票ID | IF ID | バッチID | 備考 |
| ---- | ---- | ---- | ----- | ----- | -- |

### 7.3 ロール（権限） → 機能/画面 対応表

| ロール | 機能ID（実行可） | 画面ID（参照/更新） | 帳票ID（出力） | 備考 |
| --- | --------- | ----------- | -------- | -- |

### 7.4 CRUDマトリクス（任意だが強力）

| エンティティ \ 機能ID | FNC-001 | FNC-002 | FNC-003 |
| ------------- | ------: | ------: | ------: |
| Order         |   C/R/U |       R |         |
| Customer      |       R |         |         |

---

## 8. 非機能・セキュリティ観点（台帳での扱い）

> 設計値は方式設計/基本設計に寄せ、本ドキュメントでは「**対象機能のタグ付け**」を行う。

### 8.1 推奨タグ一覧（例）

* 性能SLO対象（応答時間/スループット）
* 可用性要件対象（冗長/フェイルオーバ）
* 監査ログ対象（誰が/いつ/何を）
* 個人情報/機微情報
* 権限厳格（管理者のみ）
* 二重送信防止/冪等性
* 外部連携再送/リトライ
* バッチ締め時間制約
* データ保持/削除（法令・ポリシー）

---

## 9. 課題・確認事項・決定事項

### 9.1 オープン課題（Issue）

| ID | 内容 | 影響範囲（機能/画面/帳票） | 期限 | 担当 | 状態 |
| -- | -- | -------------- | -- | -- | -- |

### 9.2 決定事項（Decision Log）

| 日付 | 決定事項 | 理由 | 代替案 | 影響範囲 |
| -- | ---- | -- | --- | ---- |

---

## 10. 付録

### 10.1 用語集

| 用語 | 定義 | 備考 |
| -- | -- | -- |

### 10.2 チェックリスト（レビュー観点）

* [ ] 要件IDが全て機能IDに紐づいている（未対応/保留を明示）
* [ ] 主要ロールで実行できない機能が無い（権限抜け）
* [ ] 例外（エラー/差戻し/保留）が業務ルール定義と整合
* [ ] 外部IF/バッチが「どの機能起点か」追える
* [ ] 主要データ（エンティティ）がCRUD表で偏っていない（更新漏れ等）
* [ ] 監査ログ・個人情報タグの対象が漏れていない
* [ ] 画面/帳票のIDが設計書・テストケースに引き継がれる

### 10.3 運用のコツ（短く）

* 台帳（本ドキュメント）を**唯一のID起点**にし、後工程（設計・テスト・運用）へ横展開する
* 変更要求が来たら「要件→機能→画面/帳票→テスト」の順に影響範囲を更新
* 表はスプレッドシート運用が向く（フィルタ・並び替え・集計が容易）
