# 移行設計書

## 1. 移行概要
現行システム（Legacy System）から新システムへの切り替えに伴う、データ移行およびシステム移行の計画。

### 1.1 移行対象データ
| データ種別 | 移行元 | 移行先 | 移行方式 | 件数(目安) | 備考 |
| -- | -- | -- | -- | -- | -- |
| ユーザー情報 | CSVエクスポート | `users`テーブル | 変換スクリプト実行 | 10,000件 | パスワードは再設定依頼 |
| 取引履歴 | DB Dump | `transactions`テーブル | ETLツール | 1,000,000件 | 過去3年分のみ |

## 2. 移行スケジュール
| 日程 | タスク | 備考 |
| -- | -- | -- |
| M-30 | 移行ツール開発・単体テスト | |
| M-14 | 移行リハーサル (Staging) | 本番データ相当を用いて時間計測 |
| M-1 | 最終差分バックアップ取得 | |
| Day 0 | **本番移行実施** | サービス停止を伴う |

## 3. 移行手順詳細
1. **停止**: 現行システムをメンテナンスモードへ。
2. **抽出 (Extract)**: 現行DBからデータをCSV/Dumpで抽出。
3. **変換 (Transform)**: 新スキーマに合わせてデータ変換・クレンジング。
4. **ロード (Load)**: 新DBへデータ投入。
5. **検証**: 件数確認、特定レコードのサンプリング確認。

## 4. リハーサル計画
* 実施日: 202x/MM/DD
* 目的: 手順の確立、所要時間の精緻化、トラブルシュート訓練。
* 判定基準: 予定時間内にエラーなく完了すること。

## 5. バックアウト計画（移行中止・切り戻し）
移行作業中に致命的な問題が発生した場合、作業を中止し、現行システムでのサービス再開を行う手順。
