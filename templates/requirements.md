# 要件定義書 テンプレート

> このテンプレートは、要件定義の合意形成と変更管理を円滑にするための“埋めるだけ”構成です。不要な章は削除、必要な章は追加してご利用ください。

---

## 表紙

* プロジェクト名：
* システム名／プロダクト名：
* 文書タイトル：要件定義書
* バージョン：
* 作成日：
* 作成者：
* レビュー：
* 承認：

---

## 改訂履歴（バージョン管理）

| バージョン | 日付 | 変更内容       | 作成者 | 承認者 |
| ----- | -- | ---------- | --- | --- |
| 0.1.0 |    | 初版（ドラフト）作成 |     |     |
| 0.2.0 |    | レビュー反映     |     |     |
| 1.0.0 |    | 正式版リリース    |     |     |

**運用ルール例**：メジャー.マイナー.パッチ（例：1.2.3）。重要度に応じて採番。変更は履歴に必ず記録し、保存場所は一元化する。

---

## ドキュメント管理・前提

* 保存場所（URL/パス）：
* 関連ドキュメント：要件バックログ、見積、企画書、外部設計、テスト計画 等
* 参照規約：開発規約、セキュリティポリシー、UIガイドライン 等
* 変更管理／承認フロー：起票 → レビュー → 承認 → 反映
* バックアップ：定期バックアップの頻度と保管先

---

## 0. 目次

（エディタやツールで自動生成を推奨）

---

## 1. 概要（背景・目的・用語）

### 1.1 背景

* 現状／課題：
* 影響範囲（業務・顧客・法令等）：
* 解くべき真因（根本課題）：

### 1.2 目的・成功基準（KGI/KPIs）

* 目的：
* 成功基準（定量）：例）在庫反映の遅延を 48h → 即時化、機会損失 50万円/月 → 0円
* 非目的（スコープ外の期待）：

### 1.3 ステークホルダー一覧

| 区分    | 氏名/部署 | 役割 | 決裁権限 | 連絡先 |
| ----- | ----- | -- | ---- | --- |
| 発注者   |       |    |      |     |
| 利用部門  |       |    |      |     |
| 開発    |       |    |      |     |
| 運用/保守 |       |    |      |     |

### 1.4 用語定義（Glossary）

| 用語  | 定義                   |
| --- | -------------------- |
| API | 異なるソフトウェア間の連携インタフェース |
| SKU | 商品の最小管理単位            |
| SLA | サービスレベル合意（稼働率など）     |

### 1.5 対象範囲（Where）/ 対象外

* 対象：例）発注〜入荷まで
* 対象外：例）仕入契約は対象外（別システム）
* インターフェース境界：自システム／外部システムの責務分解

### 1.6 システム全体像（構成図）

* 図版：※後で貼付（アーキテクチャ／ネットワーク／クラウド）
* 補足：利用者、主要モジュール、データ流、外部連携を明示
* 参照：クラウド各社公式アイコン（AWS/Azure など）

---

## 2. 業務要件

### 2.1 業務フロー

* 図（スイムレーン推奨）：対象範囲／担当者／条件分岐／ループ
* 例外・例外処理：

### 2.2 規模（スケール）

| 指標      | 想定値 | 備考 |
| ------- | --- | -- |
| 月間処理件数  |     |    |
| 同時ログイン数 |     |    |
| 対象SKU数  |     |    |
| 稼働時間帯   |     |    |

### 2.3 時期・時間（スケジュール）

* ピーク時間帯：
* 締切／締め時間：
* バッチ頻度/タイミング：

### 2.4 評価指標（KPI）

| 指標      | 定義         | 目標値 | 集計方法 |
| ------- | ---------- | --- | ---- |
| サイクルタイム | 各工程の平均処理時間 |     |      |
| リードタイム  | 開始〜完了の総時間  |     |      |
| 処理能力    | 単位時間あたりの件数 |     |      |
| エラー率    | 不備・エラーの割合  |     |      |

### 2.5 業務ルール

* 入力規則／承認フロー／権限分掌：
* 監査証跡の必要性：

---

## 3. 機能要件

### 3.1 機能ブレイクダウン（一覧）

| 大分類  | 中分類    | 小分類   | 説明            | 優先度(MoSCoW) |
| ---- | ------ | ----- | ------------- | ----------- |
| 顧客管理 | 顧客情報登録 | 新規登録  | 氏名/住所など基本情報登録 | M           |
| 顧客管理 | 顧客情報更新 | 編集・削除 | 既存情報の更新・削除    | S           |
| 受注管理 | 受注入力   | 注文登録  | 商品/数量を入力して保存  | M           |

### 3.2 利用シナリオ / ユーザーストーリー

* 例：

  1. ユーザーは「注文一覧」→「新規注文」を選択
  2. 商品と数量を入力し登録
  3. 在庫が引落・ステータス「受注済み」に更新

### 3.3 画面要件（画面一覧と遷移）

| 画面ID   | 画面名  | 目的・役割 | 主な要素           | 関連機能 |
| ------ | ---- | ----- | -------------- | ---- |
| SCR001 | 顧客一覧 | 検索・一覧 | 検索条件、一覧、ページング  | 顧客検索 |
| SCR002 | 顧客登録 | 新規登録  | 入力フォーム、バリデーション | 顧客登録 |
| SCR003 | 注文登録 | 受注入力  | 商品選択、数量、在庫表示   | 受注登録 |

* 画面遷移図：※貼付（任意）

### 3.4 情報・データ・ログ

* データモデル（ER 図／主要テーブル）：※貼付
* 主キー／一意制約／外部キーの方針：
* データフロー：どの処理が何を参照/更新/削除するか
* ログ設計：アクセス／操作／エラー、保持期間、マスキング、検索性

### 3.5 外部インターフェース

| IF名     | 接続先   | 目的   | 方式         | 認証     | フォーマット | 再送/エラー |
| ------- | ----- | ---- | ---------- | ------ | ------ | ------ |
| 顧客連携API | CRM   | 顧客取得 | REST/HTTPS | OAuth2 | JSON   | 3回再送   |
| 出荷通知CSV | 倉庫FTP | 出荷連携 | SFTP       | 鍵認証    | CSV    | リトライ有  |

* 項目定義：データ名、型、必須、桁数、コード体系
* タイムアウト/リトライ/バックオフの設計

### 3.6 トレーサビリティ

| 背景/課題 | 要件ID    | 機能/非機能   | テストケースID  |
| ----- | ------- | -------- | --------- |
| 在庫遅延  | REQ-001 | リアルタイム連携 | TC-INV-01 |

---

## 4. 非機能要件

### 4.1 ユーザビリティ/アクセシビリティ

* 目標例：トップ→注文確定まで3クリック以内
* 対応方針：キーボード操作、音声読み上げ、コントラスト比 等
* 検証：ツールチェック＋ユーザーテスト

### 4.2 システム方式（アーキテクチャ）

* 形態：Web/モバイル/クライアントサーバ 等
* 採用技術：フレームワーク、DB、ミドルウェア
* 冗長化：LB/フェイルオーバー、ゾーン分散

### 4.3 規模（スケーラビリティ）

| 項目         | 想定値 | 設計方針 |
| ---------- | --- | ---- |
| 同時接続ユーザー   |     |      |
| 1日トランザクション |     |      |
| 保持データ件数    |     |      |

### 4.4 性能（パフォーマンス）

* 応答時間：主要画面は3秒以内 等
* バッチ：1万件を30分以内 等
* 負荷試験計画：ピーク、スパイク、長時間

### 4.5 信頼性（可用性/バックアップ）

* 稼働率（SLA）：例）99.9%/月
* 監視：死活、AP、DB、外部IF
* バックアップ：フル/増分、RPO/RTO

### 4.6 拡張性

* モジュール分割、APIファースト、スキーマ版管理
* 水平/垂直スケール方針、Feature Toggle

### 4.7 互換性（前方/後方）

* データ互換、APIバージョニング（/v1 → /v2）
* マイグレーション手順とロールバック

### 4.8 継続性（DR/BCP）

* リージョン分散、RTO/RPO 目標
* DR 手順、年次リハーサル

---

## 5. セキュリティー要件

### 5.1 情報分類・アクセス制御

* 区分：一般／機密／極秘
* RBAC：ロール別の操作可否マトリクス

### 5.2 認証/認可

* パスワードポリシー、2FA、SSO（SAML/OIDC）
* セッション管理、アカウントロック

### 5.3 暗号化

* 通信（TLS）／保管（AES-256）／鍵管理

### 5.4 攻撃対策・安全な実装

* WAF、レート制限、入力検証、CSP、CSRF 対策
* 依存ライブラリ脆弱性管理（SCA）

### 5.5 稼働環境（対応プラットフォーム）

* 対応 OS/ブラウザ、更新方針、自動アップデート
* Cookie/SameSite/セキュア属性の方針

### 5.6 セキュリティテスト/監査

* 種別：機能・脆弱性診断・負荷・ペネトレーション
* ツール：ZAP/Burp/Postman 等
* 合否基準：主要脅威の検出 0、重大脆弱性 0
* 証跡：ログ、診断レポートの保管

---

## 6. 移行要件

### 6.1 対象/戦略

* 対象：データ／アプリ／設定／ユーザー
* 戦略：一括／段階／並行（選定理由を記載）

### 6.2 スケジュール/タイミング

* 実施日・予備日、深夜/休日ウィンドウ
* 連絡・告知計画

### 6.3 リスク管理とバックアップ

* 想定リスクと対策、ロールバック手順
* 事前フルバックアップ、検証用サンドボックス

### 6.4 手順（サンプル）

1. 現行データ抽出 → 2) 変換 → 3) 新DB登録 → 4) 検証

### 6.5 体制/責任分界

* 実施者、レビュー、承認、ベンダー境界

### 6.6 検証（バリデーション）

* 件数照合、整合性チェック、UAT、性能確認

---

## 7. 運用要件

### 7.1 教育（トレーニング）

* 対象者：一般／管理／運用
* 形式：対面／オンラ
  
  イン／動画／e ラーニング
* 成果物：操作手順書、FAQ、チェックリスト

### 7.2 運用（日常業務と体制）

* 体制：監視／オペレータ／オンコール
* 定常：バックアップ、ログ点検、ヘルスチェック
* 非定常：障害対応、権限付与/削除、リリース

### 7.3 保守

* 範囲：SW/HW/ネットワーク/外部サービス
* SLA：優先度 P1/P2、初動/復旧目標
* ツール：監視（例：Datadog）、バックアップ、脆弱性診断

### 7.4 監視/アラート

* 対象、閾値、通知（メール/Slack 等）、当番表

### 7.5 定期メンテナンス

* 月次停止、パッチ適用、周知方法

### 7.6 ドキュメント/ナレッジ

* 変更履歴、月次報告、ナレッジベース整備

---

## 8. 制約・前提条件

* 契約・ライセンス制約：
* 法令/ガイドライン準拠：
* 既存資産の再利用／技術的負債：
* 予算/納期/人的リソース：

---

## 9. リスク・課題一覧

| ID   | リスク/課題 | 影響 | 発生確率 | 対応方針 | 担当 |
| ---- | ------ | -- | ---- | ---- | -- |
| R-01 |        |    |      |      |    |

---

## 10. 付録

* 参照資料：企画書、現行手順、データ辞書、規約、アイコン集リンク 等
* 記号凡例（フロー図/ER 図）：
* 用途別チェックリスト（最小構成で使う場合に残す章）：

  * [ ] 1 概要 / [ ] 2 業務フロー / [ ] 3 機能一覧 / [ ] 3.5 外部IF / [ ] 4 非機能（性能/可用性） / [ ] 5 セキュリティ / [ ] 6 移行 / [ ] 7 運用

---

## 合意欄（サインオフ）

| 役割      | 氏名 | 日付 | 署名 |
| ------- | -- | -- | -- |
| 発注者（決裁） |    |    |    |
| 事業責任者   |    |    |    |
| 開発責任者   |    |    |    |
| 運用責任者   |    |    |    |

> 署名時点のバージョン： v

---

### 簡易版（1枚に収まるミニマム）

* 目的/背景：
* スコープ（対象/対象外）：
* 業務フロー（要点）：
* 機能リスト（上位5）：
* 非機能（性能/可用性/セキュリティ要点）：
* 外部IF（主要3）：
* スケジュール主要マイルストーン：
* リスク上位3：
* サインオフ：
